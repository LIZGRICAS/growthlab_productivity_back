# Datasource: use environment variables for QA/MySQL; defaults to in-memory H2 for local dev
spring.datasource.url=${CLEVERTAP_DB_URL:jdbc:h2:mem:clevertapdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE}
spring.datasource.driverClassName=${CLEVERTAP_DB_DRIVER:org.h2.Driver}
spring.datasource.username=${CLEVERTAP_DB_USER:sa}
spring.datasource.password=${CLEVERTAP_DB_PASS:}
spring.jpa.database-platform=${CLEVERTAP_HIBERNATE_DIALECT:org.hibernate.dialect.H2Dialect}
spring.jpa.hibernate.ddl-auto=${CLEVERTAP_JPA_DDL:update}

# JWT (set via env vars in QA)
security.jwt.secret=${SECURITY_JWT_SECRET:change_this_secret_for_prod}
security.jwt.expiration=${SECURITY_JWT_EXPIRATION:3600000}

# CleverTap credentials: set CLEVERTAP_ACCOUNT_ID, CLEVERTAP_TOKEN and optional CLEVERTAP_REGION / CLEVERTAP_ENDPOINT
clevertap.accountId=${CLEVERTAP_ACCOUNT_ID:}
# prefer CLEVERTAP_TOKEN (provided) but fall back to CLEVERTAP_PASSCODE if present
clevertap.passcode=${CLEVERTAP_TOKEN:${CLEVERTAP_PASSCODE:}}
clevertap.region=${CLEVERTAP_REGION:us1}
clevertap.endpoint=${CLEVERTAP_ENDPOINT:https://api.clevertap.com/1/upload}

# OpenAPI
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
